<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:th="http://www.thymeleaf.org"
   xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
   <head>         
      <meta charset="UTF-8" /> 
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta name="viewport" content="width=device-width" />
          
      <title>Editar Rota</title>
      <!-- Bootstrap  CSS -->
      <link href="css/bootstrap/bootstrap.min.css" th:href="@{/css/bootstrap/bootstrap.min.css}" rel="stylesheet" />
      <!-- CSS customizado -->
      <link href="css/style.css" th:href="@{/css/style.css}" rel="stylesheet" />
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
   </head>
   <body>
          
      <div class="panel panel-default">
         <div class="panel-heading">
            <strong>Editar Rota</strong>
         </div>
         <div class="panel-body">
            <form class="form-horizontal" th:object="${rota}" th:action="@{/save}" method="POST" style="margin: 10px">
               <div class="form-group">
               <!-- <div class="form-group row">
                        <div class="col-md-2" th:if="${#fields.hasAnyErrors()}">
                           <div th:each="detailedError : ${#fields.detailedErrors()}">
                              <span th:text="${detailedError.message}"></span>
                           </div>
                        </div>
                     </div>-->
                     <div class="form-group row">
                        <div class="col-md-2">
                           <input type="text" class="form-control input-sm" id="id" th:field="*{rota_id}" readOnly="readonly"/>
                        </div>
                     </div>
                     <div class="form-group row">
                   	 	<div class="col-md-2" th:classappend="${#fields.hasErrors('name')}? 'has-error'">-->
                           <label>Nome da Rota</label> 
                           <input id="nameRoute" type="text" class="form-control input-sm" th:field="*{name}" maxlength="150" placeholder="Nome da Rota"/>
                    	 </div>
                     </div>
                     <div class="form-group row">
                	 	<div class="col-md-2" th:classappend="${#fields.hasErrors('routeDate')}? 'has-error'">
                           <label>Data</label> 
                           <input id="dateRoute" type="date" class="form-control input-sm" th:field="*{routeDate}" placeholder="dd/mm/aaaa"/>
                		</div>
                     </div>
                    <div class="form-group row">
                		<div class="col-md-2" th:classappend="${#fields.hasErrors('vehicleId')}? 'has-error'">
	                        <label>Ve√≠culo ID</label> 
	                        <input id="vehicleId" type="number" min="1" class="form-control input-sm" th:field="*{vehicleId}"/>
	              	  	</div>
                  	</div>	
                     <div class="form-group row">
                        <div class="col-md-2" th:classappend="${#fields.hasErrors('routeDate')}? 'has-error'">
                           <label>Stops</label> 
                           <div>
                              <ul>
                                 <li th:each="item, stat : *{stops}" class="itemRow">
                                       <label th:for="${'name-'+stat.index}">Name</label>
                                       <input type="text" class="form-control quantity" name="name"
                                          th:field="*{stops[__${stat.index}__].name}" th:id="${'stopName-'+stat.index}"/>
                                       <label th:for="${'lat-'+stat.index}">Latitude</label>
                                       <input type="text" class="form-control quantity" name="lat"
                                          th:field="*{stops[__${stat.index}__].lat}" th:id="${'stopLat-'+stat.index}"/>
                                       <label th:for="${'lng-'+stat.index}" >Longitude</label>
                                       <input type="text" class="form-control quantity" name="lng"
                                          th:field="*{stops[__${stat.index}__].lng}" th:id="${'stopLng-'+stat.index}"/>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
               </div>
               <div class="form-group row">
                  <button type="submit" class="btn btn-sm btn-primary">Salvar</button>
                  <a th:href="@{/rotas}" class="btn btn-sm btn-default">Cancelar</a>
               </div>
            </form>
         </div>
      </div>
   </body>
</html>
